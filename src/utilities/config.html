<!DOCTYPE html>
<html>
<?php
header('Access-Control-Allow-Origins: *');
?>
<head>
	<link rel="shortcut icon" href="images/reel.ico" type="image/x-icon"/>
</head>
<title>Reel Ratings Config</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
html,body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}
</style>
<body class="w3-light-grey">

<!-- Top container -->
<div class="w3-bar w3-top w3-black w3-large" style="z-index:4">
  <span class="w3-bar-item w3-right">Reel Ratings</span>
  <div class="w3-col s8 w3-bar">
      <span class="w3-bar-item">Welcome, <Strong>Andrew!</strong>      Time: <i style="w3-padding-16" id="time"></i></span><br>
  </div>
</div>

<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-top:43px;">

  <!-- Header -->
  <header class="w3-container" style="padding-top:22px">
    <h5><b><i class="fa fa-dashboard"></i> My Dashboard</b></h5>
  </header>

  <div class="w3-row-padding w3-margin-bottom">
    <div class="w3-quarter">
      <div class="w3-container w3-red w3-padding-16">
        <div class="w3-left"><i class="fa fa-desktop w3-xxxlarge"></i></div>
        <div class="w3-right">
          <h3 id="requests">0</h3>
        </div>
        <div class="w3-clear"></div>
        <h4>Requests</h4>
      </div>
    </div>
    <div class="w3-quarter">
      <div class="w3-container w3-blue w3-padding-16">
        <div class="w3-left"><i class="fa fa-server w3-xxxlarge"></i></div>
        <div class="w3-right">
          <h3 id="Calculate">0</h3>
        </div>
        <div class="w3-clear"></div>
        <h4>Rating Calculations</h4>
      </div>
    </div>
    <div class="w3-quarter">
      <div class="w3-container w3-teal w3-padding-16">
        <div class="w3-left"><i class="fa fa-download w3-xxxlarge"></i></div>
        <div class="w3-right">
          <h3 id="TMDBQuer">0</h3>
        </div>
        <div class="w3-clear"></div>
        <h4>TMDB Queries</h4>
      </div>
    </div>
    <div class="w3-quarter">
      <div class="w3-container w3-orange w3-text-white w3-padding-16">
        <div class="w3-left"><i class="fa fa-users w3-xxxlarge"></i></div>
        <div class="w3-right">
          <h3 id="Users">0</h3>
        </div>
        <div class="w3-clear"></div>
        <h4>Users</h4>
      </div>
    </div>
  </div>

  <div class="w3-panel">
    <div class="w3-row-padding">
      <div>
        <h5>INFO</h5>
        <table class="w3-table w3-striped w3-white">
          <tr>
            <td><i class="fa fa-plug w3-text-blue w3-large"></i></td>
            <td>Server uptime</td>
            <td><i id="uptime">10 mins</i></td>
          </tr>
          <tr>
            <td><i class="fa fa-thermometer-half w3-text-red w3-large"></i></td>
            <td>Server Temp</td>
            <td><i id="temp">15 c</i></td>
          </tr>
          <tr>
            <td><i class="fa fa-desktop w3-text-yellow w3-large"></i></td>
            <td>CPU Load</td>
            <td><i id="CPUload">50 %</i></td>
          </tr>
          <tr>
            <td><i class="fa fa-file w3-text-red w3-large"></i></td>
            <td>Memory Load</td>
            <td><i id="MemLoad">9.0/15.9 GB</i></td>
          </tr>
          <tr>
            <td><i class="fa fa-cloud-upload w3-text-blue w3-large"></i></td>
            <td>Data Send Rate</td>
            <td><i>120 Kbps</i></td>
          </tr>
          <tr>
            <td><i class="fa fa-cloud-download w3-text-red w3-large"></i></td>
            <td>Data Reveive Rate</td>
            <td><i>6.2 Mbps</i></td>
          </tr>
          <tr>
            <td><i class="fa fa-wifi w3-text-green w3-large"></i></td>
            <td>Server IP</td>
            <td><i>169.231.10.204</i></td>
          </tr>
        </table>
      </div>
    </div>
  </div>
  <hr>
  <div class="w3-container">
    <h5>General Stats</h5>
    <p>New Visitors</p>
    <div class="w3-grey">
      <div class="w3-container w3-center w3-padding w3-green" style="width:25%">+25%</div>
    </div>

    <p>New Users</p>
    <div class="w3-grey">
      <div class="w3-container w3-center w3-padding w3-orange" style="width:50%">50%</div>
    </div>

    <p>Bounce Rate</p>
    <div class="w3-grey">
      <div class="w3-container w3-center w3-padding w3-red" style="width:75%">75%</div>
    </div>
  </div>
  <hr>

  <div class="w3-container">
    <h5>Countries</h5>
    <table class="w3-table w3-striped w3-bordered w3-border w3-hoverable w3-white">
      <tr>
        <td>United States</td>
        <td>65%</td>
      </tr>
      <tr>
        <td>UK</td>
        <td>15.7%</td>
      </tr>
      <tr>
        <td>Russia</td>
        <td>5.6%</td>
      </tr>
      <tr>
        <td>Spain</td>
        <td>2.1%</td>
      </tr>
      <tr>
        <td>India</td>
        <td>1.9%</td>
      </tr>
      <tr>
        <td>France</td>
        <td>1.5%</td>
      </tr>
    </table><br>
  </div>

  <!-- Footer -->
  <footer class="w3-container w3-padding-16 w3-light-grey">
    <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">Reel Ratings</a></p>
  </footer>

  <!-- End page content -->
</div>

<script>
	window.onload = function() {
		var xhr = new XMLHttpRequest();
		
		xhr.open('GET', host="https://047cdea0.ngrok.io"+"/config/data/get", true);
		xhr.setRequestHeader("Access-Control-Allow-Origins", "*")
		xhr.withCredentials = true;
		
		xhr.onreadystatechange = function() {
			if(this.readyState == 4 && this.status == 200) {
				var text = this.responseText.split("\t");
				document.getElementById("requests").innerHTML=(text[0]);
				document.getElementById("TMDBQuer").innerHTML=(text[1]);
				document.getElementById("Calculate").innerHTML=(text[2]);
				document.getElementById("CPUload").innerHTML=(text[3] + " %");
				document.getElementById("uptime").innerHTML=(text[4]);
				document.getElementById("time").innerHTML=(text[5]);
			}
		};
		
		xhr.send();
	}
</script>

</body>
</html>
